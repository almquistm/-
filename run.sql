-- phpMyAdmin SQL Dump
-- version 3.5.1
-- http://www.phpmyadmin.net
--
-- Хост: 127.0.0.1
-- Время создания: Июл 23 2017 г., 15:44
-- Версия сервера: 5.5.25
-- Версия PHP: 5.3.13

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- База данных: `задание`
--

-- --------------------------------------------------------

--
-- Структура таблицы `авторы`
--

CREATE TABLE IF NOT EXISTS `авторы` (
  `Номер_автора` int(12) NOT NULL,
  `Фамилия` varchar(15) NOT NULL,
  `Имя` varchar(15) NOT NULL,
  PRIMARY KEY (`Номер_автора`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `авторы`
--

INSERT INTO `авторы` (`Номер_автора`, `Фамилия`, `Имя`) VALUES
(1, 'Акунин', 'Борис '),
(2, 'Гиляровская', 'Лилия'),
(3, 'Вехорева', 'Алла '),
(4, 'Толстой', 'Лев'),
(5, 'Водолазкин', 'Евгений'),
(6, 'Кинг', 'Стивен'),
(7, 'Нейман', 'Леонид '),
(8, 'Демирчян', 'Камо '),
(9, 'Юринов ', 'Виктор'),
(10, 'Уэллс', ' Герберт '),
(11, 'Паланик', 'Чак'),
(12, 'Лагер', 'Алла'),
(13, 'Иванов', 'Александр'),
(14, 'Исаева', 'Елена');

-- --------------------------------------------------------

--
-- Структура таблицы `авторы_книги`
--

CREATE TABLE IF NOT EXISTS `авторы_книги` (
  `ISBN` varchar(13) NOT NULL,
  `Номер_автора` int(11) NOT NULL,
  PRIMARY KEY (`ISBN`,`Номер_автора`),
  KEY `Номер_автора` (`Номер_автора`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `авторы_книги`
--

INSERT INTO `авторы_книги` (`ISBN`, `Номер_автора`) VALUES
('2-322-132476', 1),
('2-321-23445', 2),
('3-377-11223', 3),
('2-266-11156', 4),
('2-323-123533', 5),
('5-858-23325', 6),
('1-332-542133', 7),
('1-332-542133', 8),
('1-332-542133', 9),
('7-133-112376', 10),
('1-232-123543', 11),
('1-656-666', 12),
('1-656-666', 13),
('1-656-666', 14);

-- --------------------------------------------------------

--
-- Структура таблицы `книги`
--

CREATE TABLE IF NOT EXISTS `книги` (
  `ISBN` varchar(13) NOT NULL,
  `Авторы` int(11) NOT NULL,
  `Название` varchar(100) NOT NULL,
  `Количество_страниц` int(11) NOT NULL,
  `Жанр` set('роман','фантастика','детектив','наука','контркультура') NOT NULL,
  PRIMARY KEY (`ISBN`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `книги`
--

INSERT INTO `книги` (`ISBN`, `Авторы`, `Название`, `Количество_страниц`, `Жанр`) VALUES
('1-232-123543', 8, 'Удушье', 320, 'контркультура'),
('1-332-542133', 7, 'Руководство к лаборатории электромагнитного поля', 237, 'наука'),
('1-656-666', 10, 'Лагерь', 68, 'наука'),
('2-266-11156', 4, 'Лавр', 267, 'роман'),
('2-321-23445', 2, 'Анализ и оценка финансовой устойчивости коммерческого предприятия', 24, 'наука'),
('2-322-132476', 1, 'Азазель', 200, 'детектив'),
('2-323-123533', 5, 'Над пропастью во ржи', 432, 'роман,наука,контркультура'),
('3-377-11223', 3, 'Война и мир', 700, 'роман'),
('5-858-23325', 6, 'Под куполом', 1106, 'фантастика'),
('7-133-112376', 9, 'Человек-невидимка', 250, 'фантастика');

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `авторы_книги`
--
ALTER TABLE `авторы_книги`
  ADD CONSTRAINT `@g0@i0@y0@u0@w0@n1_@q0@t0@o0@j0@o0_ibfk_1` FOREIGN KEY (`ISBN`) REFERENCES `книги` (`ISBN`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `@g0@i0@y0@u0@w0@n1_@q0@t0@o0@j0@o0_ibfk_2` FOREIGN KEY (`Номер_автора`) REFERENCES `авторы` (`Номер_автора`) ON DELETE CASCADE ON UPDATE CASCADE;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
